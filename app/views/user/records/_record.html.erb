<table class="table table-bordered my-5">
  <thead>
    <tr>
      <th class="text-center">日付</th>
      <th class="text-center">体重</th>
      <th class="text-center">体脂肪率</th>
      <th class="text-center">筋肉量</th>
      <th class="text-center">ウエスト</th>
    </tr>
  </thead>
  <tbody>
    <% records.each do |record| %>
      <tr>
        <td class="text-center">
          <% if record.user == current_user %>
            <%= link_to edit_record_path(record.id), class:"link", title: "編集する" do %>
              <%= record.input_date.strftime("%Y/%m/%d") %>
            <% end %>
          <% else %>
            <%= record.input_date.strftime("%Y/%m/%d") %>
          <% end %>
        </td>
        <td class="text-right pr-2"><%= record.weight %>kg</td>
        <td class="text-right pr-2"><%= record.fat %>%</td>
        <td class="text-right pr-2"><%= record.muscle %>kg</td>
        <td class="text-right pr-2"><%= record.waist %>cm</td>
      </tr>
    <% end %>
  </tbody>
  <tfoot>
    <tr>
      <th class="text-center">結果</th>
      <th class="text-right pr-2">
        <% if records.map(&:weight).blank? %>
        <% else %>
          <%= records.last.weight - records.first.weight %>kg
        <% end %>
      </th>
      <th class="text-right pr-2">
        <% if records.map(&:fat).blank? %>
        <% else %>
          <%= records.last.fat - records.first.fat %>%
        <% end %>
      </th>
      <th class="text-right pr-2">
        <% if records.map(&:muscle).blank? %>
        <% else %>
          <%= records.last.muscle - records.first.muscle %>kg
        <% end %>
      </th>
      <th class="text-right pr-2">
        <% if records.map(&:waist).blank? %>
        <% else %>
          <%= records.last.waist - records.first.waist %>cm
        <% end %>
      </th>
    </tr>
  </tfoot>
</table>